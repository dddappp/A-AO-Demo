# Development Environment Configuration
# 使用SQLite数据库进行快速开发和测试

spring:
  datasource:
    url: jdbc:sqlite:./dev-database.db
    driver-class-name: org.sqlite.JDBC
    username:
    password:

  jpa:
    database-platform: org.hibernate.community.dialect.SQLiteDialect
    hibernate:
      ddl-auto: none  # 不自动创建表，由schema.sql处理
    show-sql: true
    properties:
      hibernate:
        dialect: org.hibernate.community.dialect.SQLiteDialect
        format_sql: true

  sql:
    init:
      mode: always  # 总是执行初始化脚本
      data-locations: classpath:data-sqlite.sql
      schema-locations: classpath:schema-sqlite.sql

  # Spring Session JDBC 配置 - 在 dev 环境也使用 JDBC 持久化
  # 这样即使重启应用，session 也会保留在数据库中
  session:
    store-type: jdbc
    jdbc:
      initialize-schema: always
    timeout: 1800

logging:
  level:
    com.example.oauth2demo: DEBUG
    org.springframework.security: DEBUG
    org.springframework.web: DEBUG
    org.springframework.security.oauth2: DEBUG
